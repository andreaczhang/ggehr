<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ggehr">
<title>Introduction to ggehr â€¢ ggehr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Atkinson_Hyperlegible-0.4.9/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to ggehr">
<meta property="og:description" content="ggehr">
<meta property="og:image" content="https://andreaczhang.github.io/ggehr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ggehr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/ggehr.html">Get Started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/andreaczhang/ggehr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<link href="ggehr_files/htmltools-fill-0.5.8/fill.css" rel="stylesheet">
<script src="ggehr_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="ggehr_files/d3-bundle-5.16.0/d3-bundle.min.js"></script><script src="ggehr_files/d3-lasso-0.0.5/d3-lasso.min.js"></script><script src="ggehr_files/save-svg-as-png-1.4.17/save-svg-as-png.min.js"></script><script src="ggehr_files/flatbush-4.4.0/flatbush.min.js"></script><link href="ggehr_files/ggiraphjs-0.8.10/ggiraphjs.min.css" rel="stylesheet">
<script src="ggehr_files/ggiraphjs-0.8.10/ggiraphjs.min.js"></script><script src="ggehr_files/girafe-binding-0.8.10/girafe.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to ggehr</h1>
                        <h4 data-toc-skip class="author">Chi Zhang</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/andreaczhang/ggehr/blob/HEAD/vignettes/ggehr.Rmd" class="external-link"><code>vignettes/ggehr.Rmd</code></a></small>
      <div class="d-none name"><code>ggehr.Rmd</code></div>
    </div>

    
    
<p>Electronic Health Records (EHR) data are patient records collected in
healthcare facilities such as hospitals and clinics. Examples of
hospital EHR data include demographics, admission information as well as
treatments (drugs, procedures). This type of data is known to be messy
and prone to error.</p>
<p>The <code>ggehr</code> (read: gg E-H-R) package helps you make
visualize EHR data, so that you can</p>
<ul>
<li>have an <strong>overview of the mixed type information</strong>
related to a patient;</li>
<li>
<strong>identify the errors</strong> in data recording.</li>
</ul>
<p>In principle, all data generated in real-life contain time stamps;
yet in practice we tend to omit the time information. When it comes EHR
data it is essential that we keep the time stamps, as they provide
valuable information on what treatments and procedures have the patients
been going through. Broadly speaking,</p>
<ul>
<li>temporal data: <strong>treatments</strong> (drug, procedures),
<strong>locations</strong>
</li>
<li>static data: <strong>demographics, admission
information</strong>
</li>
</ul>
<p>As EHR data are usually <strong>scattered across different
tables</strong>, it is beneficial to collect them altogether and
visualize in one or two graphs.</p>
<div class="section level2">
<h2 id="antibiotics-usage-over-time">Antibiotics usage over time<a class="anchor" aria-label="anchor" href="#antibiotics-usage-over-time"></a>
</h2>
<p>In this section we include an example of a typical use case for
<code>ggehr</code>: antibiotics usage throughout the patient stay at the
hospital.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/andreaczhang/ggehr" class="external-link">ggehr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<p>We load some data from a <em>fictional</em> patient. The data used is
fictional, however illustrates the complexity of data of this kind quite
well. To learn more about EHR data used in the demonstration, please
read this document: <a href="https://andreaczhang.github.io/ggehr/articles/types_of_data.html">Types
of EHR data</a>.</p>
<p>We include the following data types:</p>
<ul>
<li>
<code>ab_use</code>: antibiotics use over time</li>
<li>
<code>ab_prescription</code>: antibiotics prescription
information</li>
<li>
<code>demographics</code>: demographics, type of admission,
department information</li>
<li>
<code>location</code>: location where the patient had been to in the
hospital. This can serve as a proxy for any <strong>surgical operations,
intensive care</strong>.</li>
</ul>
<p>In the future we can also add the types of procedures (such as
catheters), physiological scores etc if they become available.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ab_use</span> <span class="op">&lt;-</span> <span class="fu">ggehr</span><span class="fu">::</span><span class="va"><a href="../reference/ab_use.html">ab_use</a></span></span>
<span><span class="va">ab_prescription</span> <span class="op">&lt;-</span> <span class="fu">ggehr</span><span class="fu">::</span><span class="va"><a href="../reference/ab_prescription.html">ab_prescription</a></span></span>
<span><span class="va">demographics</span> <span class="op">&lt;-</span> <span class="fu">ggehr</span><span class="fu">::</span><span class="va"><a href="../reference/demographics.html">demographics</a></span></span>
<span><span class="va">loc</span> <span class="op">&lt;-</span> <span class="fu">ggehr</span><span class="fu">::</span><span class="va"><a href="../reference/location.html">location</a></span></span>
<span></span>
<span><span class="co"># the drug_df should have standard names</span></span>
<span><span class="va">ab_use</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="va">ab_use</span>, label <span class="op">=</span> <span class="va">ab_name</span><span class="op">)</span></span>
<span><span class="va">ab_use</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="va">ab_use</span>, method <span class="op">=</span> <span class="va">ab_method</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># we focus on patient ID == 1</span></span>
<span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span></span>
<span><span class="va">dpatient_demog</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">demographics</span>, <span class="va">ID</span> <span class="op">==</span> <span class="va">id</span><span class="op">)</span></span>
<span><span class="va">dpatient_drug</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ab_use</span>, <span class="va">ID</span> <span class="op">==</span> <span class="va">id</span><span class="op">)</span></span>
<span><span class="va">dpatient_presc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ab_prescription</span>, <span class="va">ID</span> <span class="op">==</span> <span class="va">id</span><span class="op">)</span></span>
<span><span class="va">dpatient_loc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">loc</span>, <span class="va">ID</span> <span class="op">==</span> <span class="va">id</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="antibiotics-aware">Antibiotics AWaRe<a class="anchor" aria-label="anchor" href="#antibiotics-aware"></a>
</h3>
<p>We include metadata on the antibiotics in the package, for the
purpose of categorizing drug types. At the moment we use <a href="https://www.who.int/publications/i/item/WHO-MHP-HPS-EML-2023.04" class="external-link">WHO
AWaRe</a> categorization for antibiotics:</p>
<ul>
<li>A: access, use freely;</li>
<li>Wa: watch, use with caution;</li>
<li>Re: reserve, use as last-resort cases.</li>
</ul>
<p>We shall use the category to color the antibiotics.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ab_ahus provides a narrowed down list (with norwegian language)</span></span>
<span><span class="va">abinfo</span> <span class="op">&lt;-</span> <span class="fu">ggehr</span><span class="fu">::</span><span class="va"><a href="../reference/ab_ahus.html">ab_ahus</a></span></span>
<span><span class="va">abinfo</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span>,<span class="op">]</span> <span class="co"># print out some examples</span></span>
<span><span class="co">#&gt;      Antibiotic Category   Norsk_AHUS color_code</span></span>
<span><span class="co">#&gt;          &lt;char&gt;   &lt;char&gt;       &lt;char&gt;     &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1:  Amoxicillin   Access Amoksicillin      green</span></span>
<span><span class="co">#&gt; 2: Azithromycin    Watch  Azitromycin     yellow</span></span>
<span><span class="co">#&gt; 3:    Aztreonam  Reserve    Aztreonam        red</span></span></code></pre></div>
<p>Get the complete WHO list as a dataset with
<code><a href="../reference/ab_who.html">ggehr::ab_who</a></code>,</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggehr</span><span class="fu">::</span><span class="va"><a href="../reference/ab_who.html">ab_who</a></span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="op">]</span></span>
<span><span class="co">#&gt;                     Antibiotic                                Class ATC code</span></span>
<span><span class="co">#&gt;                         &lt;char&gt;                               &lt;char&gt;   &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1:                    Amikacin                      Aminoglycosides  J01GB06</span></span>
<span><span class="co">#&gt; 2:                 Amoxicillin                          Penicillins  J01CA04</span></span>
<span><span class="co">#&gt; 3: Amoxicillin/clavulanic-acid Beta-lactam/beta-lactamase-inhibitor  J01CR02</span></span>
<span><span class="co">#&gt;    Category Listed on EML/EMLc 2023 color_code</span></span>
<span><span class="co">#&gt;      &lt;char&gt;                  &lt;char&gt;     &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1:   Access                     Yes      green</span></span>
<span><span class="co">#&gt; 2:   Access                     Yes      green</span></span>
<span><span class="co">#&gt; 3:   Access                     Yes      green</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plot-drug-use">Plot drug use<a class="anchor" aria-label="anchor" href="#plot-drug-use"></a>
</h3>
<p>Each drug use has a time stamp. We would like to have visualize the
uses over the patientâ€™s admission and discharge time, which is included
in the demographics table.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># add drug information </span></span>
<span><span class="va">dpatient_drug</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">dpatient_drug</span>, <span class="va">abinfo</span>, </span>
<span>                           <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html" class="external-link">join_by</a></span><span class="op">(</span><span class="va">label</span> <span class="op">==</span> <span class="va">Norsk_AHUS</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># this is the step to make event</span></span>
<span><span class="co"># should use admin and discharge times</span></span>
<span><span class="va">tadmin</span> <span class="op">&lt;-</span> <span class="va">dpatient_demog</span><span class="op">$</span><span class="va">t0</span></span>
<span><span class="va">tdischarge</span> <span class="op">&lt;-</span> <span class="va">tadmin</span> <span class="op">+</span> <span class="va">dpatient_demog</span><span class="op">$</span><span class="va">los</span></span>
<span></span>
<span><span class="co"># drug use ----#</span></span>
<span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_event_drug_use.html">make_event_drug_use</a></span><span class="op">(</span><span class="va">dpatient_drug</span>, </span>
<span>                         tmin <span class="op">=</span> <span class="va">tadmin</span>, </span>
<span>                         tmax <span class="op">=</span> <span class="va">tdischarge</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(time, label)`</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_drug_use.html">plot_drug_use</a></span><span class="op">(</span>data_drug_use <span class="op">=</span> <span class="va">d</span><span class="op">)</span></span>
<span><span class="va">p1</span></span></code></pre></div>
<p><img src="ggehr_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="prescription-time-and-unused-drugs">Prescription time and unused drugs<a class="anchor" aria-label="anchor" href="#prescription-time-and-unused-drugs"></a>
</h2>
<p>It is convenient to add the times for antibiotics prescription on the
drug use figure. There are a few reasons why this is useful:</p>
<ul>
<li>sometimes the prescription form is filled by different staff,
resulting inconsistency in data registration in <strong>drug types, time
of prescription</strong>;</li>
<li>drug prescription form could contain <strong>reasons</strong> as why
this drug is prescribed, for example, if itâ€™s for a surgery prophylactic
(prevention) or sepsis infection treatment; if itâ€™s for an infection
acquired in the community or at the hospital.</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># drug prescription</span></span>
<span><span class="va">p1p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_drug_prescribe.html">plot_drug_prescribe</a></span><span class="op">(</span>data_prescribe <span class="op">=</span> <span class="va">dpatient_presc</span>, </span>
<span>                           plot_obj <span class="op">=</span> <span class="va">p1</span><span class="op">)</span></span>
<span><span class="va">p1p</span></span></code></pre></div>
<p><img src="ggehr_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>In this figure it is clear to see that two drugs are unused even
though prescribed; and recording times are sensible - prescription
before use.</p>
</div>
<div class="section level2">
<h2 id="interactive-prescription">Interactive prescription<a class="anchor" aria-label="anchor" href="#interactive-prescription"></a>
</h2>
<p>Additional information for prescription can be added
interactively.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1i</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_drug_prescribe_interactive.html">plot_drug_prescribe_interactive</a></span><span class="op">(</span>data_prescribe <span class="op">=</span> <span class="va">dpatient_presc</span>, </span>
<span>                                       plot_obj <span class="op">=</span> <span class="va">p1p</span><span class="op">)</span></span>
<span><span class="va">p1i</span></span></code></pre></div>
<div class="girafe html-widget html-fill-item" id="htmlwidget-9b169306cb15c6e13856" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-9b169306cb15c6e13856">{"x":{"html":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='ggiraph-svg' role='graphics-document' id='svg_2392f923_b6f8_42a8_8645_8b5bc1353885' viewBox='0 0 576 288'>\n <defs id='svg_2392f923_b6f8_42a8_8645_8b5bc1353885_defs'>\n  <clipPath id='svg_2392f923_b6f8_42a8_8645_8b5bc1353885_c1'>\n   <rect x='0' y='0' width='576' height='288'/>\n  <\/clipPath>\n  <clipPath id='svg_2392f923_b6f8_42a8_8645_8b5bc1353885_c2'>\n   <rect x='124.33' y='5.48' width='373.15' height='252.42'/>\n  <\/clipPath>\n <\/defs>\n <g id='svg_2392f923_b6f8_42a8_8645_8b5bc1353885_rootg' class='ggiraph-svg-rootg'>\n  <g clip-path='url(#svg_2392f923_b6f8_42a8_8645_8b5bc1353885_c1)'>\n   <rect x='0' y='0' width='576' height='288' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round' class='ggiraph-svg-bg'/>\n   <rect x='-0' y='0' width='576' height='288' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round'/>\n  <\/g>\n  <g clip-path='url(#svg_2392f923_b6f8_42a8_8645_8b5bc1353885_c2)'>\n   <rect x='124.33' y='5.48' width='373.15' height='252.42' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <polyline points='160.80,257.90 160.80,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='220.84,257.90 220.84,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='280.89,257.90 280.89,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='340.93,257.90 340.93,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='400.97,257.90 400.97,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='461.01,257.90 461.01,5.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <rect x='141.29' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='144.29' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='147.29' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='150.3' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='153.3' y='71.59' width='3' height='60.1' fill='#F0C11A' fill-opacity='1' stroke='none'/>\n   <rect x='156.3' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='159.3' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='162.31' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='165.31' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='168.31' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='171.31' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='174.31' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='177.32' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='180.32' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='183.32' y='71.59' width='3' height='60.1' fill='#F0C11A' fill-opacity='1' stroke='none'/>\n   <rect x='186.32' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='189.32' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='192.33' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='195.33' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='198.33' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='201.33' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='204.33' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='207.34' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='210.34' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='213.34' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='216.34' y='71.59' width='3' height='60.1' fill='#F0C11A' fill-opacity='1' stroke='none'/>\n   <rect x='219.34' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='222.35' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='225.35' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='228.35' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='231.35' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='234.35' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='237.36' y='71.59' width='3' height='60.1' fill='#F0C11A' fill-opacity='1' stroke='none'/>\n   <rect x='240.36' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='243.36' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='246.36' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='249.36' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='252.37' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='255.37' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='258.37' y='71.59' width='3' height='60.1' fill='#F0C11A' fill-opacity='1' stroke='none'/>\n   <rect x='261.37' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='264.37' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='267.38' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='270.38' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='273.38' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='276.38' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='279.38' y='71.59' width='3' height='60.1' fill='#F0C11A' fill-opacity='1' stroke='none'/>\n   <rect x='282.39' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='285.39' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='288.39' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='291.39' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='294.39' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='297.4' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='300.4' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='303.4' y='71.59' width='3' height='60.1' fill='#F0C11A' fill-opacity='1' stroke='none'/>\n   <rect x='306.4' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='309.4' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='312.41' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='315.41' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='318.41' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='321.41' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='324.42' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='327.42' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='330.42' y='71.59' width='3' height='60.1' fill='#F0C11A' fill-opacity='1' stroke='none'/>\n   <rect x='333.42' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='336.42' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='339.43' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='342.43' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='345.43' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='348.43' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='351.43' y='71.59' width='3' height='60.1' fill='#F0C11A' fill-opacity='1' stroke='none'/>\n   <rect x='354.44' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='357.44' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='360.44' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='363.44' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='366.44' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='369.45' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='372.45' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='375.45' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='378.45' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='381.45' y='71.59' width='3' height='60.1' fill='#F0C11A' fill-opacity='1' stroke='none'/>\n   <rect x='384.46' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='387.46' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='390.46' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='393.46' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='396.46' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='399.47' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='402.47' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='405.47' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='408.47' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='411.47' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='414.48' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='417.48' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='420.48' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='423.48' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='426.48' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='429.49' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='432.49' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='435.49' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='438.49' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='441.49' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='444.5' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='447.5' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='450.5' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='453.5' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='456.5' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='459.51' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='462.51' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='465.51' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='468.51' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='471.51' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='474.52' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='477.52' y='71.59' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='141.29' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='144.29' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='147.29' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='150.3' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='153.3' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='156.3' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='159.3' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='162.31' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='165.31' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='168.31' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='171.31' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='174.31' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='177.32' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='180.32' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='183.32' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='186.32' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='189.32' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='192.33' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='195.33' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='198.33' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='201.33' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='204.33' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='207.34' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='210.34' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='213.34' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='216.34' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='219.34' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='222.35' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='225.35' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='228.35' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='231.35' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='234.35' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='237.36' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='240.36' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='243.36' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='246.36' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='249.36' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='252.37' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='255.37' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='258.37' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='261.37' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='264.37' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='267.38' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='270.38' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='273.38' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='276.38' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='279.38' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='282.39' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='285.39' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='288.39' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='291.39' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='294.39' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='297.4' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='300.4' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='303.4' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='306.4' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='309.4' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='312.41' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='315.41' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='318.41' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='321.41' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='324.42' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='327.42' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='330.42' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='333.42' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='336.42' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='339.43' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='342.43' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='345.43' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='348.43' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='351.43' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='354.44' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='357.44' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='360.44' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='363.44' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='366.44' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='369.45' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='372.45' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='375.45' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='378.45' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='381.45' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='384.46' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='387.46' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='390.46' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='393.46' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='396.46' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='399.47' y='11.49' width='3' height='60.1' fill='#048A04' fill-opacity='1' stroke='none'/>\n   <rect x='402.47' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='405.47' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='408.47' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='411.47' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='414.48' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='417.48' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='420.48' y='11.49' width='3' height='60.1' fill='#048A04' fill-opacity='1' stroke='none'/>\n   <rect x='423.48' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='426.48' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='429.49' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='432.49' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='435.49' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='438.49' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='441.49' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='444.5' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='447.5' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='450.5' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='453.5' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='456.5' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='459.51' y='11.49' width='3' height='60.1' fill='#048A04' fill-opacity='1' stroke='none'/>\n   <rect x='462.51' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='465.51' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='468.51' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='471.51' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='474.52' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <rect x='477.52' y='11.49' width='3' height='60.1' fill='none' stroke='none'/>\n   <circle cx='151.8' cy='101.64' r='1.47pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='391.96' cy='221.84' r='1.47pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='391.96' cy='161.74' r='1.47pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='391.96' cy='41.54' r='1.47pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='464.01' cy='161.74' r='1.47pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle id='svg_2392f923_b6f8_42a8_8645_8b5bc1353885_e1' cx='151.8' cy='101.64' r='2.67pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Acute abdomen/peritonitis' data-id='Acute abdomen/peritonitis' nearest='true'/>\n   <circle id='svg_2392f923_b6f8_42a8_8645_8b5bc1353885_e2' cx='391.96' cy='221.84' r='2.67pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Acute abdomen/peritonitis' data-id='Acute abdomen/peritonitis' nearest='true'/>\n   <circle id='svg_2392f923_b6f8_42a8_8645_8b5bc1353885_e3' cx='391.96' cy='161.74' r='2.67pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Other infection' data-id='Other infection' nearest='true'/>\n   <circle id='svg_2392f923_b6f8_42a8_8645_8b5bc1353885_e4' cx='391.96' cy='41.54' r='2.67pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Other infection' data-id='Other infection' nearest='true'/>\n   <circle id='svg_2392f923_b6f8_42a8_8645_8b5bc1353885_e5' cx='464.01' cy='161.74' r='2.67pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Other infection' data-id='Other infection' nearest='true'/>\n   <rect x='124.33' y='5.48' width='373.15' height='252.42' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round'/>\n  <\/g>\n  <g clip-path='url(#svg_2392f923_b6f8_42a8_8645_8b5bc1353885_c1)'>\n   <text x='64.15' y='224.99' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>Ciprofloksacin<\/text>\n   <text x='69.02' y='164.89' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>Metronidazol<\/text>\n   <text x='26' y='104.79' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>Piperacillin/Tazobaktam<\/text>\n   <text x='5.48' y='44.69' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>Trimetoprim/Sulfametoksazol<\/text>\n   <polyline points='121.59,221.84 124.33,221.84' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='121.59,161.74 124.33,161.74' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='121.59,101.64 124.33,101.64' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='121.59,41.54 124.33,41.54' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='160.80,260.64 160.80,257.90' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='220.84,260.64 220.84,257.90' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='280.89,260.64 280.89,257.90' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='340.93,260.64 340.93,257.90' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='400.97,260.64 400.97,257.90' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='461.01,260.64 461.01,257.90' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text transform='translate(156.11,281.83) rotate(-45.00)' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2260<\/text>\n   <text transform='translate(216.15,281.83) rotate(-45.00)' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2280<\/text>\n   <text transform='translate(276.19,281.83) rotate(-45.00)' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2300<\/text>\n   <text transform='translate(336.23,281.83) rotate(-45.00)' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2320<\/text>\n   <text transform='translate(396.27,281.83) rotate(-45.00)' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2340<\/text>\n   <text transform='translate(456.31,281.83) rotate(-45.00)' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2360<\/text>\n   <rect x='508.44' y='101.03' width='62.08' height='61.32' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='513.92' y='115.62' font-size='8.25pt' font-family='Helvetica'>AWaRe<\/text>\n   <rect x='513.92' y='122.31' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <rect x='514.06' y='122.45' width='17' height='17' fill='#048A04' fill-opacity='1' stroke='none'/>\n   <rect x='513.92' y='139.59' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <rect x='514.06' y='139.73' width='17' height='17' fill='#F0C11A' fill-opacity='1' stroke='none'/>\n   <text x='536.68' y='134.11' font-size='6.6pt' font-family='Helvetica'>Access<\/text>\n   <text x='536.68' y='151.39' font-size='6.6pt' font-family='Helvetica'>Watch<\/text>\n  <\/g>\n <\/g>\n<\/svg>","js":null,"uid":"svg_2392f923_b6f8_42a8_8645_8b5bc1353885","ratio":2,"settings":{"tooltip":{"css":".tooltip_SVGID_ { padding:5px;background:black;color:white;border-radius:2px;text-align:left; ; position:absolute;pointer-events:none;z-index:999;}","placement":"doc","opacity":0.9,"offx":10,"offy":10,"use_cursor_pos":true,"use_fill":false,"use_stroke":false,"delay_over":200,"delay_out":500},"hover":{"css":".hover_data_SVGID_ { fill:black; stroke: yellow; }","reactive":false,"nearest_distance":null},"hover_inv":{"css":".hover_inv_SVGID_ { opacity:0.2; }"},"hover_key":{"css":".hover_key_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_key_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_key_SVGID_ { fill:orange;stroke:black; }\nline.hover_key_SVGID_, polyline.hover_key_SVGID_ { fill:none;stroke:orange; }\nrect.hover_key_SVGID_, polygon.hover_key_SVGID_, path.hover_key_SVGID_ { fill:orange;stroke:none; }\nimage.hover_key_SVGID_ { stroke:orange; }","reactive":true},"hover_theme":{"css":".hover_theme_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_theme_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_theme_SVGID_ { fill:orange;stroke:black; }\nline.hover_theme_SVGID_, polyline.hover_theme_SVGID_ { fill:none;stroke:orange; }\nrect.hover_theme_SVGID_, polygon.hover_theme_SVGID_, path.hover_theme_SVGID_ { fill:orange;stroke:none; }\nimage.hover_theme_SVGID_ { stroke:orange; }","reactive":true},"select":{"css":".select_data_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_data_SVGID_ { stroke:none;fill:red; }\ncircle.select_data_SVGID_ { fill:red;stroke:black; }\nline.select_data_SVGID_, polyline.select_data_SVGID_ { fill:none;stroke:red; }\nrect.select_data_SVGID_, polygon.select_data_SVGID_, path.select_data_SVGID_ { fill:red;stroke:none; }\nimage.select_data_SVGID_ { stroke:red; }","type":"multiple","only_shiny":true,"selected":[]},"select_inv":{"css":""},"select_key":{"css":".select_key_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_key_SVGID_ { stroke:none;fill:red; }\ncircle.select_key_SVGID_ { fill:red;stroke:black; }\nline.select_key_SVGID_, polyline.select_key_SVGID_ { fill:none;stroke:red; }\nrect.select_key_SVGID_, polygon.select_key_SVGID_, path.select_key_SVGID_ { fill:red;stroke:none; }\nimage.select_key_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"select_theme":{"css":".select_theme_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_theme_SVGID_ { stroke:none;fill:red; }\ncircle.select_theme_SVGID_ { fill:red;stroke:black; }\nline.select_theme_SVGID_, polyline.select_theme_SVGID_ { fill:none;stroke:red; }\nrect.select_theme_SVGID_, polygon.select_theme_SVGID_, path.select_theme_SVGID_ { fill:red;stroke:none; }\nimage.select_theme_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"zoom":{"min":1,"max":10,"duration":300},"toolbar":{"position":"topright","pngname":"diagram","tooltips":null,"fixed":false,"hidden":[],"delay_over":200,"delay_out":500},"sizing":{"rescale":true,"width":1}}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="add-static-information-card">Add static information card<a class="anchor" aria-label="anchor" href="#add-static-information-card"></a>
</h2>
<p>It is often useful to add background information for the patient so
that we have a better idea on the type of admission, length of stay as
well as demographics. As these information are without time stamps, they
can be added as a card next to the drug use plot.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># demographics ----# </span></span>
<span><span class="va">dpatient_demoinfo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_demographic_info.html">make_demographic_info</a></span><span class="op">(</span>demo_df <span class="op">=</span> <span class="va">dpatient_demog</span><span class="op">)</span></span>
<span><span class="va">dpatient_demoinfo</span></span>
<span><span class="co">#&gt; [1] "&lt;b&gt;Patient record (Demo)&lt;/b&gt;&lt;br&gt;&lt;span style = 'font-size:10pt'&gt;**ID**: 1 /**Sex**: m /**Age**: 63 /**Time admission**: 2254&lt;br&gt;**Length of stay (Hr)**: 112 /**Department**: gastrosurgery /**Admission type**: emergency&lt;/span&gt;"</span></span></code></pre></div>
<p>The function <code><a href="../reference/make_demographic_info.html">make_demographic_info()</a></code> extract and parses
the relevant information so that it can be added in the existing
plot.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_info_demographic.html">plot_info_demographic</a></span><span class="op">(</span>info_text <span class="op">=</span> <span class="va">dpatient_demoinfo</span>, </span>
<span>                              plot_obj <span class="op">=</span> <span class="va">p1</span><span class="op">)</span></span>
<span><span class="va">p1pp</span> </span></code></pre></div>
<p><img src="ggehr_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="location">Location<a class="anchor" aria-label="anchor" href="#location"></a>
</h2>
<p>It can be helpful to know where the patient have been to in the
hospital, both for <strong>infection control</strong> and as a proxy for
events such as surgery and intensive care.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># location ----#</span></span>
<span><span class="va">dloc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_location.html">make_location</a></span><span class="op">(</span>data_location <span class="op">=</span> <span class="va">dpatient_loc</span>, </span>
<span>                      tadmin <span class="op">=</span> <span class="va">dpatient_demog</span><span class="op">$</span><span class="va">t0</span>, </span>
<span>                      los <span class="op">=</span> <span class="va">dpatient_demog</span><span class="op">$</span><span class="va">los</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(location_code)`</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(location_code)`</span></span>
<span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_location.html">plot_location</a></span><span class="op">(</span>loc_obj <span class="op">=</span> <span class="va">dloc</span>, keep_time <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span><span class="va">p2</span></span></code></pre></div>
<p><img src="ggehr_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>Put together multiple plots</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com" class="external-link">patchwork</a></span><span class="op">)</span></span>
<span><span class="co"># p1 + p2 + plot_layout(ncol = 1, heights = 2:1)</span></span>
<span><span class="va">p1p</span> <span class="op">+</span> <span class="va">p2</span> <span class="op">+</span> <span class="fu"><a href="https://patchwork.data-imaginist.com/reference/plot_layout.html" class="external-link">plot_layout</a></span><span class="op">(</span>ncol <span class="op">=</span> <span class="fl">1</span>, heights <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="ggehr_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1pp</span> <span class="op">+</span> <span class="va">p2</span> <span class="op">+</span> <span class="fu"><a href="https://patchwork.data-imaginist.com/reference/plot_layout.html" class="external-link">plot_layout</a></span><span class="op">(</span>ncol <span class="op">=</span> <span class="fl">1</span>, heights <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="ggehr_files/figure-html/unnamed-chunk-12-2.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://andreaczhang.github.io" class="external-link">Chi Zhang</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
